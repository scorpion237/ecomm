(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[507],{62298:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout/[[...slug]]",function(){return r(36357)}])},87042:function(e,t,r){"use strict";r.d(t,{j:function(){return useCart}});var n=r(78089),c=r(67294),a=r(12640);function useCart(){let e=(0,n.C)(e=>e.cart),t=(0,n.T)();return(0,c.useEffect)(()=>{t((0,a.d_)())},[]),{total:e.total,id:e.cartId,cartInited:e.cartInited}}},70252:function(e,t,r){"use strict";r.d(t,{x:function(){return i}});var n=r(75077);let c=void 0,a=void 0,o=void 0,i=new n._M("eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJpSWQiOjMzNjksImNJZCI6IkpLek40S2RTb2UzS3dkanJ5IiwiaWF0IjoxNzIxNzMwOTI0fQ.lZvXbeIbjyIXkJpY0PcSkWLFWXm-5SRie20dg5VglBsx7clJVXDl43rNoEnfHkWrQZlHdfXdz0IAZfK--9ZHRw");i.setInstanceId("3369"),c&&i.setBaseUrl(c),a&&i.setS3FolderPrefix(a),o&&i.setMediaServerUrl(o)},36357:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return CheckoutPage}});var n=r(85893),c=r(87042),a=r(17763),o=r(11163),i=r(70252),s=r(12118);function Loader(){return(0,n.jsx)("div",{className:"loader-page-centered",children:(0,n.jsxs)("div",{className:"lds-facebook",children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{})]})})}var u={src:"/_next/static/media/logo.621f374c.svg"},d=r(9008),l=r.n(d),f=r(67294),I=r(29568);function CheckoutPage(){let{id:e,cartInited:t}=(0,c.j)(),r=(0,o.useRouter)(),d=(0,f.useRef)(),x=(0,f.useCallback)(n=>{n&&t===s._H.yes&&e&&(d.current=(0,a.Vv)(n,{api:i.x,cartId:e,onHide:(e,t)=>{if((0,a.Tn)(),"backToCart"===e){let e={};t&&(e.error=t),r.push("/cart?".concat((0,I.createGetStr)(e)))}else"logo"===e?r.push("/"):console.log("unknown element: ",e)},onThankYouPage:e=>{(0,a.Tn)(),window.location.assign("/thank-you/".concat(e.orderId))},basename:"/checkout",logoSrc:u.src}))},[t,e]);return((0,f.useEffect)(()=>()=>{d.current&&d.current.destroy()},[]),t!==s._H.yes)?(0,n.jsx)(Loader,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l(),{children:(0,n.jsx)("meta",{name:"robots",content:"noindex"})}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{ref:x})})]})}},12640:function(e,t,r){"use strict";r.d(t,{XT:function(){return addItem2Cart},d_:function(){return initCart}});var n=r(12118),c=r(31955),a=r(70252),o=r(75002),i=r(69563);let initCart=()=>async(e,t)=>{let{cartInited:r}=t().cart;if(![n._H.yes,n._H.processing].includes(r)){e((0,n.M6)(n._H.processing));try{let t=await getCartByCookieOrRetrieve();c.Z.set("boundless_cart_id",t.id,{expires:365,sameSite:"None",secure:!0}),e((0,n.tx)(t))}catch(t){console.error(t),e((0,n.M6)(n._H.no))}}},getCartByCookieOrRetrieve=async()=>{let e=c.Z.get("boundless_cart_id");if(e)try{return await a.x.cart.getCartInfo(e)}catch(e){}return await a.x.cart.retrieveCart()},addItem2Cart=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return async(c,s)=>{try{let u=s().cart.cartId;if(!u){c((0,i.jx)("Error loading cart"));return}c((0,n.W5)(!0));let d=a.x.cart.addItemToCart(u,e,t).then(e=>{let{product:t,actionRequired:a,cartTotal:o,added:i}=e;c((0,n.W5)(!1)),"chooseVariant"===a&&t?c((0,n.Zq)({product:t})):o&&(c((0,n.YP)(o)),r&&i&&c((0,n.Iq)(i)))});c((0,o.mj)(d))}catch(e){console.error(e)}}}}},function(e){e.O(0,[372,878,774,888,179],function(){return e(e.s=62298)}),_N_E=e.O()}]);